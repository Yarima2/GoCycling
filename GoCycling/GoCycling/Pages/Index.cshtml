@page "{code?}"
@model GoCycling.Pages.IndexModel
@{
}
<link rel="icon" href="@Url.Content("~/content/favicon.ico")" />

<script>
	console.log(@Model.apiString)
	if ("@Model.hasCode" === "False") {
		if("@Model.hostedLocally" === "True"){
			window.location.replace("https://strava.com/oauth/authorize?client_id=91002&redirect_uri=https://localhost:7070&response_type=code&scope=activity:read_all");
		}
		else{
			window.location.replace("https://strava.com/oauth/authorize?client_id=91002&redirect_uri=https://gocycling.azurewebsites.net&response_type=code&scope=activity:read_all");
		}
	}
</script>



<head>
	<meta charset="utf-8">
	<title>GoCycling</title>
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
	<link href="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.css" rel="stylesheet">
	<script src="https://api.mapbox.com/mapbox-gl-js/v2.12.0/mapbox-gl.js"></script>
	<style>
		body {
			margin: 0;
			padding: 0;
		}

		#map {
			position: absolute;
			top: 0;
			bottom: 0;
			width: 100%;
		}
	</style>
</head>
<body>
	<div id="map"></div>
	<script>
		mapboxgl.accessToken = 'pk.eyJ1IjoibWFudWVsLXByaW56IiwiYSI6ImNqNGF6MGR3OTA1d3UzM3FwNDJmMjRhd3YifQ.StEp4b_MJYSohkG2Ok67vA';
		const map = new mapboxgl.Map({
		container: 'map', // container ID
		// Choose from Mapbox's core styles, or make your own style with Mapbox Studio
			style: 'mapbox://styles/mapbox/dark-v11', // style URL
		center: [-74.5, 40], // starting position [lng, lat]
		zoom: 9 // starting zoom
		});
	</script>

</body>